package com.mdl.home;

import cn.hutool.json.JSONArray;
import cn.hutool.json.JSONUtil;
import com.mdl.home.util.DateUtil;
import java.util.ArrayList;
import java.util.List;

/**
 * @Project : mdl-demo
 * @Package Name : com.mdl.home
 * @Author : xiekun
 * @Desc :
 * @Create Date : 2021年05月27日 19:22
 * ----------------- ----------------- -----------------
 */
public class TestSleepDataSet2 {


  public static void main(String[] args) {

    String json = "[{\"data_source_name\":\"raw:c03d1f78f1f5a566f86e29fa\",\"max_end_time_ms\":1622029627308,\"min_start_time_ms\":1621958836000,\"points\":[{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1622026620395,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1622026186480,\"string_val\":\"1,0\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1622026739487,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1622026620395,\"string_val\":\"0,1\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1622026930477,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1622026739487,\"string_val\":\"1,99\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1622027063999,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1622026930477,\"string_val\":\"99,11\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1622027102132,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1622027063999,\"string_val\":\"11,99\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1622027732335,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1622027102132,\"string_val\":\"99,1\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1622027775256,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1622027732335,\"string_val\":\"1,0\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1622028459019,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1622027775256,\"string_val\":\"0,7\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1622028570309,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1622028459019,\"string_val\":\"7,8\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1622028681603,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1622028570309,\"string_val\":\"8,7\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1622028792891,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1622028681603,\"string_val\":\"7,0\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1622029349438,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1622028792891,\"string_val\":\"0,7\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1622029627308,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1622029349438,\"string_val\":\"7,10\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1622025363618,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1622022976739,\"string_val\":\"6,0\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1622025509936,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1622025363618,\"string_val\":\"0,1\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1622026062594,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1622025509936,\"string_val\":\"1,0\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1622026115008,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1622026062594,\"string_val\":\"0,1\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1622026138834,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1622026115008,\"string_val\":\"1,11\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1622026186480,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1622026138834,\"string_val\":\"11,1\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1622022948450,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1622022902437,\"string_val\":\"6,0\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1622022976739,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1622022948450,\"string_val\":\"0,6\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1622022902437,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1622022877471,\"string_val\":\"99,6\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1622022433164,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1622021905607,\"string_val\":\"6,0\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1622022465182,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1622022433164,\"string_val\":\"0,6\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1622021905607,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1622021899976,\"string_val\":\"99,6\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1622018896025,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1622018820292,\"string_val\":\"6,99\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1622018899138,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1622018896025,\"string_val\":\"99,6\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1622018820292,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1622018814520,\"string_val\":\"-1,6\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1621959010000,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1621958836000,\"string_val\":\"9\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1621959529000,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1621959010000,\"string_val\":\"8\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1621959703000,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1621959529000,\"string_val\":\"9\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1621961089000,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1621959703000,\"string_val\":\"10\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1621961781000,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1621961089000,\"string_val\":\"9\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1621962359000,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1621961781000,\"string_val\":\"10\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1621963917000,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1621962359000,\"string_val\":\"9\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1621965716000,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1621963917000,\"string_val\":\"10\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1621966399000,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1621965716000,\"string_val\":\"10\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1621967900000,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1621966399000,\"string_val\":\"9\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1621968304000,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1621967900000,\"string_val\":\"10\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1621969112000,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1621968304000,\"string_val\":\"8\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1621970439000,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1621969112000,\"string_val\":\"9\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1621970785000,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1621970439000,\"string_val\":\"10\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1621971189000,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1621970785000,\"string_val\":\"9\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1621971939000,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1621971189000,\"string_val\":\"8\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1621972228000,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1621971939000,\"string_val\":\"9\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1621972690000,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1621972228000,\"string_val\":\"8\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1621972863000,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1621972690000,\"string_val\":\"9\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1621972978000,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1621972863000,\"string_val\":\"8\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1621973382000,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1621972978000,\"string_val\":\"7\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1621973497000,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1621973094000,\"string_val\":\"7\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1621973497000,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1621973382000,\"string_val\":\"7\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1621974825000,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1621973497000,\"string_val\":\"9\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1621975460000,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1621974825000,\"string_val\":\"8\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1621975748000,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1621975460000,\"string_val\":\"9\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1621976729000,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1621975748000,\"string_val\":\"10\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1621976902000,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1621976729000,\"string_val\":\"9\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1621977364000,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1621976902000,\"string_val\":\"8\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1621977537000,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1621977364000,\"string_val\":\"9\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1621977998000,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1621977537000,\"string_val\":\"10\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1621978287000,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1621977998000,\"string_val\":\"9\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1621978633000,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1621978287000,\"string_val\":\"8\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1621979037000,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1621978633000,\"string_val\":\"9\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1621979325000,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1621979037000,\"string_val\":\"8\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1621979625000,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1621979325000,\"string_val\":\"7\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1621979925000,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1621979625000,\"string_val\":\"7\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1621980133000,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1621979925000,\"string_val\":\"7\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1621980652000,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1621980133000,\"string_val\":\"9\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1621980826000,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1621980652000,\"string_val\":\"8\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1621980999000,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1621980826000,\"string_val\":\"7\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1621981172000,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1621980999000,\"string_val\":\"8\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1621981576000,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1621981172000,\"string_val\":\"9\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1621981922000,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1621981576000,\"string_val\":\"8\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1621982729000,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1621981922000,\"string_val\":\"9\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1621983191000,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1621982729000,\"string_val\":\"8\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1622018744902,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1622018312243,\"string_val\":\"6,99\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1622018802181,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1622018744902,\"string_val\":\"99,99\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1622018809646,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1622018802181,\"string_val\":\"99,99\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1622018814520,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1622018809646,\"string_val\":\"99,99\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1622014165783,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1622012966990,\"string_val\":\"0,1\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1622014500439,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1622014165783,\"string_val\":\"1,0\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1622014567313,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1622014500439,\"string_val\":\"0,1\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1622014662878,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1622014567313,\"string_val\":\"1,0\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1622015183618,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1622014662878,\"string_val\":\"0,1\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1622015694759,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1622015183618,\"string_val\":\"1,0\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1622017831254,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1622015694759,\"string_val\":\"0,6\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1622018038559,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1622017831254,\"string_val\":\"6,0\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1622018198110,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1622018038559,\"string_val\":\"0,6\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1622018289776,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1622018198110,\"string_val\":\"6,99\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1622018297622,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1622018289776,\"string_val\":\"99,99\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1622018306452,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1622018297622,\"string_val\":\"99,99\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1622018312243,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1622018306452,\"string_val\":\"-1,6\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1622012966990,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1622012904803,\"string_val\":\"99,0\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1622012904803,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1622012644333,\"string_val\":\"0,99\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1622012545796,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1622011785227,\"string_val\":\"0,6\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1622012644333,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1622012545796,\"string_val\":\"6,0\"},{\"data_type\":\"sleep_motion\",\"deleted\":0,\"end_time_millis\":1622011785227,\"fp_val\":\"0.0\",\"int_val\":0,\"start_time_millis\":1622011765184,\"string_val\":\"99,0\"}]}]";

    JSONArray objects = JSONUtil.parseArray(json);

    List<DataSet2> dataSet2s = JSONUtil.toList(objects, DataSet2.class);

    List<DataSet2Point> allPoints = new ArrayList<>();

    for (DataSet2 dataSet2 : dataSet2s) {
      dataSet2.setMinStartTime(
          DateUtil.transferLongToDate(DateUtil.DATE_TIME_FORMAT, dataSet2.getMinStartTimeMs()));
      dataSet2.setMaxEndTime(
          DateUtil.transferLongToDate(DateUtil.DATE_TIME_FORMAT, dataSet2.getMaxEndTimeMs()));

      JSONArray objects1 = JSONUtil.parseArray(dataSet2.getPoints());
      List<DataSet2Point> points = JSONUtil.toList(objects1, DataSet2Point.class);

      for (DataSet2Point p : points) {
        p.setStartTime(DateUtil.transferLongToDate(DateUtil.DATE_TIME_FORMAT, p.getStartTimeMillis()));
        p.setEndTime(DateUtil.transferLongToDate(DateUtil.DATE_TIME_FORMAT, p.getEndTimeMillis()));
        allPoints.add(p);
      }
    }

    System.out.println(JSONUtil.toJsonStr(dataSet2s));
    System.out.println(JSONUtil.toJsonStr(allPoints));

  }


}
